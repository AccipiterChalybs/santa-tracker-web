<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lobster|Google+Sans:400,500,700" />
  <link rel="stylesheet" href="index.css" />
</head>
<body>

<script type="module">
import api from '../../src/scene/api.js';
import '../../src/magic.js';
import {rectify} from '../../src/scene/route.js';
import {Render} from './render.js';

rectify(document.body);

const r = new Render(retrocanvas);

api.preload.wait(r.ready());

api.ready(() => {

  const fps = 10;
  let last = 0;

  (function render(now=0) {
    window.requestAnimationFrame(render);

    if (now - last > (1000 / fps)) {
      r.render(400, 200, 2);
      last = now;
    }
  }());

});

</script>

<div>
  <a href="./snowball.html" msgid="scene_snowball"></a>
  <a href="./boatload.html" msgid="scene_boatload"></a>
  <a href="./presentdrop.html" msgid="scene_presentdrop"></a>
</div>

<canvas id="retrocanvas"></canvas>

</body>
</html>
