<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:100,300,400,500,600,700,800|Lobster|Material+Icons" />
  <link rel="stylesheet" href="underconstruction-scene.css" />

  <!-- Polyfills only needed for Firefox and Edge. -->
  <script src="../../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>

  <script src="../../third_party/lib/lottie/lottie.js"></script>
</head>
<body>

<div id="module-underconstruction">
  <main id="main">
    <div class="title">
      <img class="title__logo" src="img/st-logo-horizontal.svg" alt="Google Santa Tracker">
      <h2 class="title__text">See you in <span class="title__month">December</span></h2>
    </div>
    <div class="animation animation--backhoe desktop-only"></div>
    <div class="animation animation--crane"></div>
    <div class="animation animation--drill desktop-only"></div>
    <div class="animation animation--snowman"></div>
    <div class="animation animation--tower"></div>
    <img class="ropes" src="img/ropes.svg" alt="">
  </main>
</div>

<script type="module">

import api from '../../src/scene/api.js';
// api.preload.sounds('elfmaker_load_sounds', 40);

api.preload.images(
  'img/animations/backhoe.json',
  'img/animations/crane.json',
  'img/animations/drill.json',
  'img/animations/snowman.json',
  'img/animations/tower.json',
  'img/background.jpg',
  'img/ropes.svg',
  'img/st-logo-horizontal.svg',
);

console.log('hello');

lottie.loadAnimation({
        container: document.querySelector('.animation--backhoe'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: 'img/animations/backhoe.json',
        rendererSettings: {
          className: 'animation__svg',
          preserveAspectRatio: 'xMaxYMax meet'
        }
      });

lottie.loadAnimation({
        container: document.querySelector('.animation--crane'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: 'img/animations/crane.json',
        rendererSettings: {
          className: 'animation__svg',
          preserveAspectRatio: 'xMaxYMid meet'
        }
      });

lottie.loadAnimation({
        container: document.querySelector('.animation--drill'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: 'img/animations/drill.json',
        rendererSettings: {
          className: 'animation__svg',
          preserveAspectRatio: 'xMidYMin meet'
        }
      });

lottie.loadAnimation({
        container: document.querySelector('.animation--snowman'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: 'img/animations/snowman.json',
        rendererSettings: {
          className: 'animation__svg',
          preserveAspectRatio: 'xMinYMax meet'
        }
      });

lottie.loadAnimation({
        container: document.querySelector('.animation--tower'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: 'img/animations/tower.json',
        rendererSettings: {
          className: 'animation__svg',
          preserveAspectRatio: 'xMidYMid meet'
        }
      });

</script>

</body>
</html>
