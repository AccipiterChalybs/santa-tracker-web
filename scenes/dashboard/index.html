<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <style>
body {
  background: white;
}
  </style>
</head>
<body>

<ul id="listing"></ul>

<script type="module">
  import {SceneApi} from '../../src/app/scene-api.js';
  import scenes from '../../scenes.js';

  const sceneApi = new SceneApi('dashboard');
  sceneApi.loadStarted();

  const listing = document.getElementById('listing');
  const keys = Object.keys(scenes).sort();

  const handler = (sceneName, ev) => {
    ev.preventDefault();
    sceneApi.route(sceneName);
  };

  keys.forEach((sceneName) => {
    const li = document.createElement('li');
    const a = document.createElement('a');

    a.href = `/${sceneName}.html`;
    a.textContent = sceneName;
    a.addEventListener('click', handler.bind(null, sceneName));

    if (scenes[sceneName].video) {
      li.appendChild(document.createTextNode('video '));
    }
    li.appendChild(a);

    listing.appendChild(li);
  });

  sceneApi.loadCompleted();

</script>

</body>
</html>
