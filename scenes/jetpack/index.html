<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:100,300,400,500,600,700,800|Lobster" />
  <link rel="stylesheet" href="jetpack-scene.css" />
</head>
<body>

<div id="module-jetpack">
  <div class="background background--0"></div>
  <div class="background background--1"></div>
  <div class="goal"></div>
  <div class="scene">
    <div class="clouds"></div>
    <div class="items"></div>
    <div class="player">
      <div class="player-overlay"></div>
      <div class="fire">
        <div class="fire-orange"></div>
        <div class="fire-yellow"></div>
      </div>
      <div class="sparkles">
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
        <div class="sparkle"></div>
      </div>
    </div>
  </div>
  <div class="touchpad hidden">
    <div class="touchpad-nub"></div>
  </div>
</div>

<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script type="module">
  import api from '../../src/scene/api.js';
  import Game from './jetpack-scene.min.js';

  api.preload.sounds('jp_load_sounds');
  api.preload.images(
    'img/cloud.png',
    'img/fire.png',
    'img/items.png',
    'img/logo.svg',
    'img/player.png',
    'img/touchpad.png',
    'img/player-hit.svg',
    'img/player-overlay.svg',
    'img/clock.png',
    'img/danger.png',
    'img/levelclouds.svg',
  );

  const game = new Game(document.getElementById('module-jetpack'));

  api.addEventListener('pause', (ev) => game.pause());
  api.addEventListener('resume', (ev) => game.resume());
  api.addEventListener('restart', (ev) => game.restart());

  api.ready(async () => {
    game.start();
  });

</script>

</body>
</html>
