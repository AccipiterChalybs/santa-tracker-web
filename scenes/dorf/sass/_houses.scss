// All dimensions below assume cell size of 320x320 (i.e., $dim-house).

// ID houseWidth iceWidth dateX dateY
$houses:
"codeboogie"      274 443 21 152,
"traditions"      210 424 124 227,
"airport"         812 627 130 286,
"app"             280 443 135 337,
"presentbounce"   310 521 80 19,
"santasback"      231 499 107 145,
"translations"    311 512 66 172,
"snowflake"       333 373 17 193,
"seasonofgiving"  333 373 79 192,
"santaselfie"     209 397 99 165,
"penguindash"     280 440 -56 111,
"santasearch"     287 484 80 81,
"codelab"         277 364 -101 108,
"commandcentre" 197 380 -76 84,
"gumball" 245 374 -63 165,
"jamband" 360 580 -96 122,
"wrapbattle" 350 360 100 46,
"boatload" 220 472 75 115,
"runner" 336 440 -107 99,
"jetpack" 287 367 48 233,
"carpool" 307 437 75 194,
"briefing" 315 355 91 169,
"presentdrop" 198 300 -63 120,
"mercator" 328 462 -112 205,
"racer" 345 424 -65 197,
"matching" 303 457 82 153,
"liftoff" 276 355 -58 233,
"callfromsanta" 271 537 98 195,
"citylights" 360 467 115 112,
"postcard" 286 364 87 179,
"santascanvas"    0 0 0 0,
"elfski"          0 0 0 0,
"snowball"        0 0 0 0,
"speedsketch"     0 0 0 0,
;

// 0th is 'new today'
$cells:
    0   0  ,
    123 208,
    124 227,
    130 286,
    135 337,
    155 188,
    209 199,
    146 301,
    107 283,
    162 282,
    186 287,
    165 235,
    150 236,
    166 266,
    177 243,
    157 300,
    157 162,
    155 220,
    103 252,
    160 212,
    141 286,
    149 285,
    183 259,
    169 290,
    151 267,
    148 271,
    142 245,
    179 341,
    125 285,
    189 292,
    157 246,
;

$idx-id: 1;
$idx-house: 2;
$idx-ice: 3;
$idx-dateX: 4;
$idx-dateY: 5;

// # Tablet and above cell alignment

@media (min-width: $width-tablet) {
  .cells {
    @for $i from 1 through length($cells) {
      $data: nth($cells, $i);
      $x: nth($data, 1);
      $y: nth($data, 2);
      $row: floor(($i - 1) / 4);
      $within: ($x / 320);

      .cell:nth-child(#{$i}) {
        --cell-x: $x / 320;
        --cell-y: $y / 320;
        --cell-layer: round(($row + $within) * 320);  // z-index must be an integer
      }
    }
  }
}

#houses {
  @for $i from 1 through length($houses) {
    $house: nth($houses, $i);
    $id: nth($house, $idx-id);

    village-house[house="#{$id}"] {
      --date-x: percent(nth($house, $idx-dateX) * -1, $dim-house);
      --date-y: percent(nth($house, $idx-dateY) * -1, $dim-house);
    }
  }
}

#links {
  @for $i from 1 through length($houses) {
    $house: nth($houses, $i);
    $id: nth($house, $idx-id);

    .link[house="#{$id}"] {
      .card::before {
        background-image: url(../../images/scenes/#{$id}_2x.png);;
      }
    }
  }
}